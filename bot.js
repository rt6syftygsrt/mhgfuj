const Discord = require('discord.js');
const client = new Discord.Client();




client.login('NTQwODIzODE5OTU1MjA4MTky.DzWg9w.j9uXtNYvmiKycolV2kCOcdNRM0M'); 


client.on('ready',  () => {
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~'); 
  console.log('by safa7');
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~');
  console.log(`Logged in as  * [ " ${client.user.username} " ] servers! [ " ${client.guilds.size} " ]`);
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~');
  console.log('is online')
client.user.setStatus("dnd");
});

// playing
client.on('ready', () => {                           
client.user.setGame(`$help|welcome`,'https://www.twitch.tv/tarikrs');                                                                                                                                                                                                                                                                                                                                                                                                                             client.user.setGame(`-help | On 20 Servers`,'https://www.twitch.tv/v5bz');
});          







const adminprefix = "-";
const developers = ['438371243801051141'];

console.log("Randy ");

client.on('ready', () => {
    console.log(`Logged as ${client.user.tag}By : Randy`)
})

client.on('message', message => {
    var argresult = message.content.split(` `).slice(1).join(' ');
      if (!developers.includes(message.author.id)) return;
  if (message.content.startsWith(adminprefix + 'ply')) {
    client.user.setGame(argresult);
      message.channel.send(`ÿ™ŸÖ ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑÿ®ŸÑÿßŸäŸÜŸÇ ÿßŸÑŸâ   ${argresult}`)
  } else 
     if (message.content === (adminprefix + "leave")) {
    message.guild.leave();        
  } else  
  if (message.content.startsWith(adminprefix + 'wt')) {
  client.user.setActivity(argresult, {type:'WATCHING'});
      message.channel.send(`ÿ™ŸéŸÖ ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸàÿßÿ™ÿ¥ŸäŸÜŸÇ ÿßŸÑŸâ   ${argresult}`)
  } else 
  if (message.content.startsWith(adminprefix + 'ls')) {
  client.user.setActivity(argresult , {type:'LISTENING'});
      message.channel.send(`ÿ™ŸéŸÖ ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸÑŸäÿ≥ŸäŸÜŸäŸÜŸÇ ÿßŸÑŸâ   ${argresult}`)
  } else
  if (message.content.startsWith(adminprefix + 'st')) {
    client.user.setGame(argresult, "https://www.twitch.tv/Randy");
      message.channel.send(`ÿ™ŸÖ ÿ™ÿ∫ŸäŸäÿ±ŸÉ ÿ≠ÿßŸÑÿ™ŸÉ ÿ®ÿßŸÑÿ™ŸàŸäÿ™ÿ¥ ÿßŸÑŸâ   ${argresult}`)
  }
  if (message.content.startsWith(adminprefix + 'sn')) {
  client.user.setUsername(argresult).then
      message.channel.send(`ÿ¨ÿßÿ±Ÿä ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑÿ£ÿ≥ŸÖ ŸÑŸÄ ..${argresult} `)
} else
if (message.content.startsWith(adminprefix + 'sa')) {
  client.user.setAvatar(argresult);
    message.channel.send(`ÿ¨ÿßÿ±Ÿä ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑÿ£ŸÅÿ™ÿßÿ±... : `);
}
});


   
client.on('message', message => {
    if (message.content.startsWith("ÿ±ÿßÿ®ÿ∑")) {

  message.channel.createInvite({
        thing: true,
        maxUses: 100,
        maxAge: 86400
    }).then(invite =>
      message.author.sendMessage(invite.url)
    )
    const embed = new Discord.RichEmbed()
        .setColor("RANDOM")
        .setDescription("| :white_check_mark:  | :heart:  ÿ™ŸÖ ÿßÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ±ÿßÿ®ÿ∑ ÿπŸÑŸâ ÿßŸÑÿÆÿßÿµ  ")
      message.channel.sendEmbed(embed).then(message => {message.delete(10000)})
              const Embed11 = new Discord.RichEmbed()
        .setColor("RANDOM")
                .setAuthor(message.guild.name, message.guild.iconURL)
        .setDescription(`
**
---------------------
-[${message.guild.name}]  Ÿáÿ∞ÿß ŸáŸà ÿ±ÿßÿ®ÿ∑ ÿ≥Ÿäÿ±ŸÅÿ±
---------------------
-Ÿáÿ∞ÿß ÿßŸÑÿ±ÿßÿ®ÿ∑ ÿµÿßŸÑÿ≠ ŸÑ 100 ŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÅŸÇÿ∑
---------------------
-Ÿáÿ∞ÿß ÿßŸÑÿ±ÿßÿ®ÿ∑ ÿµÿßŸÑÿ≠ ŸÑŸÖÿØŸá 24 ÿ≥ÿßÿπŸá ŸÅŸÇÿ∑
---------------------
**`)
      message.author.sendEmbed(Embed11)
    }
});



client.on('message', message => { 
    var prefix = "$";
    if (message.author.boss) return;
    if (!message.content.startsWith(prefix)) return;
    let command = message.content.split(" ")[0];
    command = command.slice(prefix.length);
    if (command == "ÿµŸÑÿßÿ≠Ÿäÿ©") {
    if (!message.channel.guild) return;
    if(!message.guild.member(message.author).hasPermission("MANAGE_ROLES")) return message.reply("**üö´ÿßŸÜÿ™ ŸÑÿß ÿ™ŸÖŸÑŸÉ ÿµŸÑÿßÿ≠Ÿäÿßÿ™ **").then(msg => msg.delete(5000));;
    if(!message.guild.member(client.user).hasPermission("MANAGE_ROLES")) return message.reply("ÿßŸÑÿ®Ÿàÿ™ ŸÑÿßŸäŸÖŸÑŸÉ ÿµŸÑÿßÿ≠Ÿäÿßÿ™ ").then(msg => msg.delete(5000));;
    let user = message.mentions.users.first();
    if (message.mentions.users.size < 1) return message.reply('**ÿ∂ÿπ ŸÖŸÜÿ¥ŸÜ ÿßŸÑÿ¥ÿÆÿµ!!**').then(msg => {msg.delete(5000)});
    let MRole = message.content.split(" ").slice(2).join(" ");
    if(!MRole)return message.reply("Ÿäÿ¨ÿ® ÿπŸÑŸäŸÉ Ÿàÿ∂ÿπ ÿßÿ≥ŸÖ ÿßŸÑÿ±ÿ™ÿ®ÿ©").then(msg => {msg.delete(5000)});
    message.guild.member(user).addRole(message.guild.roles.find("name", MRole));
    message.reply('*** Done ‚úÖ  ***').then(msg => {msg.delete(10000)});
    }
    });




client.on('message', message => {

if (message.content.startsWith("$ÿ±ŸàŸÑ")) {
             if(!message.channel.guild) return message.reply('**Commands in the server**');
        if (!message.member.hasPermission('MANAGE_ROLES')) return message.reply('? **ŸÑÿßÿ™ŸÖÿ™ŸÑŸÉ ÿµŸÑÿßÿ≠Ÿäÿ© ŸÉÿßŸÅŸäÿ© ŸÑÿπŸÖŸÑ ÿ±ŸàŸÑ :rolling_eyes: **');
        let args = message.content.split(" ").slice(1);
            message.guild.createRole({
                name : args.join(' '),
                color : "RANDOM", 
                permissions : [1]
            }).then(function(role){
                message.addRole(role)

            })

}
});



client.on("message", message => {
    var prefix = "$"; // ÿ∫Ÿäÿ± ŸáŸÜÿß ÿ≠ÿ∑ ÿßŸÑÿ®ÿ±ŸÅŸÉÿ≥
 
            var args = message.content.substring(prefix.length).split(" ");
            if (message.content.startsWith(prefix + "ŸÖÿ≥ÿ≠")) {
   if(!message.member.hasPermission('MANAGE_MESSAGES')) return message.reply('‚ö† | **ŸÑŸäÿ≥ ŸÑÿØŸäŸÉ ÿµŸÑÿßÿ≠Ÿäÿßÿ™**');
        var msg;
        msg = parseInt();
      
      message.channel.fetchMessages({limit: msg}).then(messages => message.channel.bulkDelete(messages)).catch(console.error);
      message.channel.sendMessage("", {embed: {
        title: "Done | ÿ™ŸÄŸÄŸÖ",
        color: 0x06DF00,
        description: "ÿ™ŸÖ ŸÖÿ≥ÿ≠ ÿßŸÑÿ±ÿ≥ÿßÿ¶ŸÑ ÿ®ŸÜÿ¨ÿßÿ≠",
        footer: {
          text: "F5AmEh.bot" // ÿ∫Ÿäÿ± ŸáŸÜÿß ÿ≠ÿ∑ ÿßÿ≥ŸÖ ÿßŸÑÿ®Ÿàÿ™
        }
      }}).then(msg => {msg.delete(30000)});
                          }

     
});




// Voice Logs
client.on('voiceStateUpdate', (voiceOld, voiceNew) => {
 
    if(!voiceOld.guild.member(client.user).hasPermission('EMBED_LINKS')) return;
    if(!voiceOld.guild.member(client.user).hasPermission('VIEW_AUDIT_LOG')) return;
 
    var logChannel = voiceOld.guild.channels.find(c => c.name === 'log');
    if(!logChannel) return;
 
    voiceOld.guild.fetchAuditLogs().then(logs => {
        var userID = logs.entries.first().executor.id;
        var userTag = logs.entries.first().executor.tag;
        var userAvatar = logs.entries.first().executor.avatarURL;
 
// Server Muted Voice
        if(voiceOld.serverMute === false && voiceNew.serverMute === true) {
            let serverMutev = new Discord.RichEmbed()
            .setTitle('ÿ™ŸÖ ÿπÿ∑ÿßÿ° ŸÖŸäŸàÿ™ ÿµŸàÿ™Ÿä')
            .setThumbnail('https://images-ext-1.discordapp.net/external/pWQaw076OHwVIFZyeFoLXvweo0T_fDz6U5C9RBlw_fQ/https/cdn.pg.sa/UosmjqDNgS.png')
            .setColor('RED')
            .setDescription(`**User:** <@${voiceOld.user.id}> \n**By:** <@${userID}> \n**Channel:** \`\`${voiceOld.voiceChannel.name}\`\``)
            .setTimestamp()
            .setFooter(userTag, userAvatar)
 
            logChannel.send(serverMutev);
        }
// Server UnMuted Voice
        if(voiceOld.serverMute === true && voiceNew.serverMute === false) {
            let serverUnmutev = new Discord.RichEmbed()
            .setTitle('ÿ™ŸÖ ŸÅŸÉ ŸÖŸäŸàÿ™ ÿµŸàÿ™Ÿä')
            .setThumbnail('https://images-ext-1.discordapp.net/external/u2JNOTOc1IVJGEb1uCKRdQHXIj5-r8aHa3tSap6SjqM/https/cdn.pg.sa/Iy4t8H4T7n.png')
            .setColor('GREEN')
            .setDescription(`**User:** <@${voiceOld.user.id}>\n**By:** <@${userID}> \n**Channel:** \`\`${voiceOld.voiceChannel.name}\`\` `)
            .setTimestamp()
            .setFooter(userTag, userAvatar)
 
            logChannel.send(serverUnmutev);
        }
// Server Deafen Voice
        if(voiceOld.serverDeaf === false && voiceNew.serverDeaf === true) {
            let serverDeafv = new Discord.RichEmbed()
            .setTitle('ÿ™ŸÖ ÿπÿ∑ÿßÿ° ÿ≥ŸÖÿßÿπÿ©')
            .setThumbnail('https://images-ext-1.discordapp.net/external/7ENt2ldbD-3L3wRoDBhKHb9FfImkjFxYR6DbLYRjhjA/https/cdn.pg.sa/auWd5b95AV.png')
            .setColor('RED')
            .setDescription(`**User:** <@${voiceOld.user.id}> \n**By:** <@${userID}>\n**Channel:** \`\`${voiceOld.voiceChannel.name}\`\``)
            .setTimestamp()
            .setFooter(userTag, userAvatar)
 
            logChannel.send(serverDeafv);
        }
// Server UnDeafen Voice
        if(voiceOld.serverDeaf === true && voiceNew.serverDeaf === false) {
            let serverUndeafv = new Discord.RichEmbed()
            .setTitle('ÿ™ŸÖ ŸÅŸÉ ÿ≥ŸÖÿßÿπÿ©')
            .setThumbnail('https://images-ext-2.discordapp.net/external/s_abcfAlNdxl3uYVXnA2evSKBTpU6Ou3oimkejx3fiQ/https/cdn.pg.sa/i7fC8qnbRF.png')
            .setColor('GREEN')
            .setDescription(`**User:** <@${voiceOld.user.id}> \n**By:** <@${userID}> \n**Channel:** \`\`${voiceOld.voiceChannel.name}\`\` `)
            .setTimestamp()
            .setFooter(userTag, userAvatar)
 
            logChannel.send(serverUndeafv);
        }
    })
// Join Voice Channel
    if(voiceOld.voiceChannelID !== voiceNew.voiceChannelID && !voiceOld.voiceChannel) {
        let voiceJoin = new Discord.RichEmbed()
        .setTitle('ÿØÿÆŸÑ ÿßŸÑÿßÿ±ŸàŸÖ')
        .setColor('GREEN')
        .setThumbnail(voiceOld.user.avatarURL)
        .setDescription(`**\n**:arrow_lower_right: Successfully \`\`JOIN\`\` To Voice Channel.\n\n**Channel:** \`\`${voiceNew.voiceChannel.name}\`\` \n**User:** ${voiceOld} `)
        .setTimestamp()
        .setFooter(voiceOld.user.tag, voiceOld.user.avatarURL)
 
        logChannel.send(voiceJoin);
    }
// Leave Voice Channel
    if(voiceOld.voiceChannelID !== voiceNew.voiceChannelID && !voiceNew.voiceChannel) {
        let voiceLeave = new Discord.RichEmbed()
        .setTitle('ÿÆÿ±ÿ¨ ŸÖŸÜ ÿ±ŸàŸÖ')
        .setColor('GREEN')
        .setThumbnail(voiceOld.user.avatarURL)
        .setDescription(`**\n**:arrow_upper_left: Successfully \`\`LEAVE\`\` From Voice Channel.\n\n**Channel:** \`\`${voiceOld.voiceChannel.name}\`\`\n**User:** ${voiceOld} `)
        .setTimestamp()
        .setFooter(voiceOld.user.tag, voiceOld.user.avatarURL)
 
        logChannel.send(voiceLeave);
    }
// Changed Voice Channel
    if(voiceOld.voiceChannelID !== voiceNew.voiceChannelID && voiceNew.voiceChannel && voiceOld.voiceChannel != null) {
        let voiceLeave = new Discord.RichEmbed()
        .setTitle('ŸÑŸÇÿØ ÿ∫Ÿäÿ± ÿ±ŸàŸÖ')
        .setColor('GREEN')
        .setThumbnail(voiceOld.user.avatarURL)
        .setDescription(`**\n**:repeat: Successfully \`\`CHANGED\`\` The Voice Channel.\n\n**From:** \`\`${voiceOld.voiceChannel.name}\`\` \n**To:** \`\`${voiceNew.voiceChannel.name}\`\` \n**User:** ${voiceOld}`)
        .setTimestamp()
        .setFooter(voiceOld.user.tag, voiceOld.user.avatarURL)
 
        logChannel.send(voiceLeave);
    }
});










